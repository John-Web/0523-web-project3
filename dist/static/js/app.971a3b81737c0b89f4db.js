webpackJsonp([1],{"+skl":function(t,s){},"1uuo":function(t,s){},NHnr:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("7+uW"),r={name:"app",data:function(){return{movies:"",site:"https://movie.douban.com/",rating_power_coefficient:1.2,init_page_size:5,init_data_count:1e4,data_count:1e4,page_size:5,current_page:1,search_mode:!1,search_text:"",message_text:""}},created:function(){this.all_movies(1)},methods:{getImages:function(t){if(void 0!==t)return"https://images.weserv.nl/?url="+t.substring(7)},all_movies:function(t){var s=this;this.message_text="正在载入第"+this.current_page+"页",this.current_page=t,this.page_size=this.init_page_size,this.data_count=this.init_data_count,this.search_mode=!1;var a=this.init_page_size*(t-1),e=new URLSearchParams;e.append("start_index",a.toString()),e.append("page_size",this.init_page_size),this.axios.get("/api/all_movies",{params:e}).then(function(t){for(var a=0;a<s.page_size;a++)t.data[a].poster=s.getImages(t.data[a].poster);s.movies=t.data,s.message_text="载入第"+s.current_page+"页完成"}).catch(function(t){console.log(t),this.message_text="载入第"+this.current_page+"页失败"})},search_movies:function(){var t=this,s=this.search_text;if(""!=s){this.message_text='正在查询包含关键字"'+s+'"的电影',this.search_mode=!0;var a=new URLSearchParams;a.append("search_text",this.search_text),this.axios.get("/api/search_movies",{params:a}).then(function(a){t.data_count=a.data.length,t.page_size=a.data.length;for(var e=0;e<t.page_size;e++)a.data.movies[e].poster=t.getImages(a.data.movies[e].poster);t.movies=a.data.movies,t.message_text='查询到包含关键字"'+s+'"的电影共'+a.data.length+"条"}).catch(function(t){console.log(t),this.message_text='查询到包含关键字"'+s+'"的电影失败'})}},change_page:function(t){0==this.search_mode&&this.all_movies(t)}}},i={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"wrapper"}},[a("div",{attrs:{id:"content"}},[a("div",[a("span",{on:{click:function(s){return t.all_movies(1)}}},[a("Icon",{staticStyle:{width:"auto"},attrs:{type:"ios-home",size:"24"}})],1),t._v(" "),a("Input",{staticStyle:{width:"auto"},attrs:{placeholder:"Search something..."},nativeOn:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.search_movies()}},model:{value:t.search_text,callback:function(s){t.search_text=s},expression:"search_text"}}),t._v(" "),a("Button",{attrs:{type:"primary"},nativeOn:{click:function(s){return t.search_movies()}}},[t._v("搜索")])],1),t._v(" "),a("h2",[t._v(t._s(t.message_text))]),t._v(" "),t._l(t.movies,function(s){return a("div",[a("h1",[a("span",{attrs:{property:"v:itemreviewed"}},[t._v(t._s(s.title))]),t._v(" "),a("span",{staticClass:"year"},[t._v("("+t._s(s.year)+")")])]),t._v(" "),a("div",{staticClass:"subjectwrap clearfix"},[a("div",{staticClass:"subject clearfix"},[a("div",{attrs:{id:"mainpic"}},[a("img",{attrs:{src:s.poster,alt:s.title,rel:"v:image"}})]),t._v(" "),a("div",{attrs:{id:"info"}},[a("span",[a("span",{staticClass:"pl"},[t._v("导演")]),t._v(":\n          "),t._l(s.directors,function(s,e){return a("span",{staticClass:"attrs"},[0!==e?a("span",[t._v(" /")]):t._e(),t._v(" "),a("a",{attrs:{href:[t.site+"celebrity/"+s.id+"/"],rel:"v:directedBy"}},[t._v(t._s(s.name))])])})],2),a("br"),t._v(" "),a("span",[a("span",{staticClass:"pl"},[t._v("编剧")]),t._v(":\n          "),t._l(s.writers,function(s,e){return a("span",{staticClass:"attrs"},[0!==e?a("span",[t._v(" /")]):t._e(),t._v(" "),a("a",{attrs:{href:[t.site+"celebrity/"+s.id+"/"]}},[t._v(t._s(s.name))])])})],2),a("br"),t._v(" "),a("span",{staticClass:"actor"},[a("span",{staticClass:"pl"},[t._v("主演")]),t._v(":\n          "),t._l(s.casts,function(s,e){return a("span",{staticClass:"attrs"},[0!==e?a("span",[t._v(" /")]):t._e(),t._v(" "),a("a",{attrs:{href:[t.site+"celebrity/"+s.id+"/"],rel:"v:starring"}},[t._v(t._s(s.name))])])})],2),a("br"),t._v(" "),a("span",{staticClass:"pl"},[t._v("类型:")]),t._v(" "),t._l(s.genres,function(s,e){return a("span",{attrs:{property:"v:genre"}},[0!==e?a("span",[t._v(" /")]):t._e(),t._v("\n          "+t._s(s)+"\n        ")])}),a("br"),t._v(" "),a("span",{staticClass:"pl"},[t._v("制片国家/地区:")]),t._v(" "),t._l(s.countries,function(s,e){return a("span",[0!==e?a("span",[t._v(" /")]):t._e(),t._v("\n          "+t._s(s)+"\n        ")])}),a("br"),t._v(" "),a("span",{staticClass:"pl"},[t._v("语言:")]),t._v(" "),t._l(s.languages,function(s,e){return a("span",[0!==e?a("span",[t._v(" /")]):t._e(),t._v("\n          "+t._s(s)+"\n        ")])}),a("br"),t._v(" "),a("span",{staticClass:"pl"},[t._v("上映日期:")]),t._v(" "),t._l(s.pubdate,function(s,e){return a("span",{attrs:{property:"v:initialReleaseDate"}},[0!==e?a("span",[t._v(" /")]):t._e(),t._v("\n          "+t._s(s)+"\n        ")])}),a("br"),t._v(" "),a("span",{staticClass:"pl"},[t._v("片长:")]),t._v(" "),a("span",{attrs:{property:"v:runtime"}},[t._v(t._s(s.duration)+"分钟")]),a("br"),t._v(" "),a("span",{staticClass:"pl"},[t._v("IMDb链接:")]),t._v(" "),a("a",{attrs:{href:["http://www.imdb.com/title/"+s.imdb],target:"_blank",rel:"nofollow"}},[t._v(t._s(s.imdb))]),a("br")],2)]),t._v(" "),a("div",{attrs:{id:"interest_sectl"}},[a("div",{staticClass:"rating_wrap clearbox",attrs:{rel:"v:rating"}},[t._m(0,!0),t._v(" "),a("div",{staticClass:"rating_self clearfix",attrs:{typeof:"v:Rating"}},[a("strong",{staticClass:"ll rating_num",attrs:{property:"v:average"}},[t._v(t._s(s.ratingAverage))]),t._v(" "),a("span",{attrs:{property:"v:best",content:"10.0"}}),t._v(" "),a("div",{staticClass:"rating_right "},[a("div",{staticClass:"ll bigstar bigstar35"}),t._v(" "),a("div",{staticClass:"rating_sum"},[a("a",{staticClass:"rating_people",attrs:{href:"collections"}},[a("span",{attrs:{property:"v:votes"}},[t._v(t._s(s.ratingPeople))]),t._v("人评价")])])])]),t._v(" "),a("div",{staticClass:"ratings-on-weight"},[a("div",{staticClass:"item"},[a("span",{staticClass:"stars5 starstop",attrs:{title:"力荐"}},[t._v("\n              5星\n            ")]),t._v(" "),a("div",{staticClass:"power",style:{width:s.star5*t.rating_power_coefficient+"px"}}),t._v(" "),a("span",{staticClass:"rating_per"},[t._v(t._s(s.star5)+"%")]),t._v(" "),a("br")]),t._v(" "),a("div",{staticClass:"item"},[a("span",{staticClass:"stars4 starstop",attrs:{title:"推荐"}},[t._v("\n              4星\n            ")]),t._v(" "),a("div",{staticClass:"power",style:{width:s.star4*t.rating_power_coefficient+"px"}}),t._v(" "),a("span",{staticClass:"rating_per"},[t._v(t._s(s.star4)+"%")]),t._v(" "),a("br")]),t._v(" "),a("div",{staticClass:"item"},[a("span",{staticClass:"stars3 starstop",attrs:{title:"还行"}},[t._v("\n              3星\n            ")]),t._v(" "),a("div",{staticClass:"power",style:{width:s.star3*t.rating_power_coefficient+"px"}}),t._v(" "),a("span",{staticClass:"rating_per"},[t._v(t._s(s.star3)+"%")]),t._v(" "),a("br")]),t._v(" "),a("div",{staticClass:"item"},[a("span",{staticClass:"stars2 starstop",attrs:{title:"较差"}},[t._v("\n              2星\n            ")]),t._v(" "),a("div",{staticClass:"power",style:{width:s.star2*t.rating_power_coefficient+"px"}}),t._v(" "),a("span",{staticClass:"rating_per"},[t._v(t._s(s.star2)+"%")]),t._v(" "),a("br")]),t._v(" "),a("div",{staticClass:"item"},[a("span",{staticClass:"stars1 starstop",attrs:{title:"很差"}},[t._v("\n              1星\n            ")]),t._v(" "),a("div",{staticClass:"power",style:{width:s.star1*t.rating_power_coefficient+"px"}}),t._v(" "),a("span",{staticClass:"rating_per"},[t._v(t._s(s.star1)+"%")]),t._v(" "),a("br")])])])])])])}),t._v(" "),a("Page",{attrs:{id:"page",current:t.current_page,total:t.data_count,"page-size":t.page_size,"show-elevator":""},on:{"on-change":t.change_page}})],2)])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"clearfix"},[s("div",{staticClass:"rating_logo ll"},[this._v("豆瓣评分")])])}]};var n=a("VU/8")(r,i,!1,function(t){a("YWQi")},null,null).exports,_=a("/ocq"),v={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"hello"},[a("h1",[t._v(t._s(t.msg))]),t._v(" "),a("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),a("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("\n        Core Docs\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("\n        Forum\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("\n        Community Chat\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("\n        Twitter\n      ")])]),t._v(" "),a("br"),t._v(" "),a("li",[a("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("\n        Docs for This Template\n      ")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),s("li",[s("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),s("li",[s("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};var l=a("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},v,!1,function(t){a("1uuo")},"data-v-d8ec41bc",null).exports;e.default.use(_.a);var c=new _.a({routes:[{path:"/",name:"HelloWorld",component:l}]}),o=a("mtWM"),p=a.n(o),u=a("Rf8U"),h=a.n(u),g=a("BTaQ"),d=a.n(g);a("+skl");e.default.use(h.a,p.a),e.default.use(d.a),e.default.config.productionTip=!1,new e.default({el:"#app",router:c,components:{App:n},template:"<App/>"})},YWQi:function(t,s){}},["NHnr"]);
//# sourceMappingURL=app.971a3b81737c0b89f4db.js.map